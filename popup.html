<!DOCTYPE html>
   <html>
   <head>
     <meta charset="UTF-8">
     <style>
       body { 
         width: 320px; 
         padding: 16px; 
         font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
         margin: 0;
       }
       h3 { margin: 0 0 16px 0; color: #1a73e8; }
       button { 
         background: #1a73e8; 
         color: white; 
         border: none; 
         padding: 10px 20px; 
         border-radius: 6px; 
         cursor: pointer;
         font-size: 14px;
         width: 100%;
       }
       button:hover { background: #1557b0; }
       button:disabled { background: #dadce0; cursor: not-allowed; }
       .output { 
         margin-top: 16px; 
         font-size: 11px; 
         font-family: 'Courier New', monospace;
         background: #f8f9fa; 
         padding: 12px; 
         border-radius: 6px; 
         max-height: 200px; 
         overflow-y: auto;
         border: 1px solid #dadce0;
       }
       .status { 
         margin-top: 8px; 
         font-size: 12px; 
         color: #5f6368; 
       }
     </style>
   </head>
   <body>
     <h3>Web Weaver v0.1</h3>
     <button id="extractBtn">Extract Page Data</button>
     <div id="status" class="status">Ready to extract...</div>
     <div id="output" class="output" style="display: none;"></div>
     
     <script>
       const extractBtn = document.getElementById('extractBtn');
       const status = document.getElementById('status');
       const output = document.getElementById('output');

       extractBtn.addEventListener('click', () => {
         extractBtn.disabled = true;
         status.textContent = 'Extracting data...';
         
         chrome.runtime.sendMessage({ action: "extractData" });
         
         setTimeout(() => {
           if (extractBtn.disabled) {
             extractBtn.disabled = false;
             status.textContent = 'Extraction timeout - try again';
           }
         }, 5000);
       });

       chrome.runtime.onMessage.addListener((message) => {
         if (message.action === "dataExtracted") {
           extractBtn.disabled = false;
           
           if (message.data.error) {
             status.textContent = 'Error: ' + message.data.error;
             output.style.display = 'none';
           } else {
             status.textContent = 'Data extracted successfully!';
             output.style.display = 'block';
             output.textContent = JSON.stringify(message.data, null, 2);
           }
         }
       });
     </script>
   </body>
   </html>